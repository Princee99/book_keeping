{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\HP\\\\Desktop\\\\book_keeping\\\\book-keeping-app-main\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{loginUser}from'../../redux/actions/users/userActions';import ErrorMessage from'../DisplayMessage/ErrorMessage';import Loading from'../Loading/Loading';var Login=function Login(_ref){var history=_ref.history;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setemail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setpassword=_useState4[1];var dispatch=useDispatch();//Before login in we will check if you have login the we redirect you\nvar userLoginDetails=useSelector(function(state){return state.userLogin;});var loading=userLoginDetails.loading,userInfo=userLoginDetails.userInfo,error=userLoginDetails.error;console.log(loading,userInfo,error);useEffect(function(){if(userInfo){history.push('/');}},[dispatch,userInfo,history]);//submit form\nvar submitFormHandler=function submitFormHandler(e){e.preventDefault();dispatch(loginUser(email,password));console.log(email,password);};return/*#__PURE__*/React.createElement(\"div\",{className:\"row container-height\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-6 col-md-6 m-auto\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},loading&&/*#__PURE__*/React.createElement(Loading,null),error&&/*#__PURE__*/React.createElement(ErrorMessage,{error:error}),/*#__PURE__*/React.createElement(\"h1\",{className:\"text-center\"},\"Login\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:submitFormHandler},/*#__PURE__*/React.createElement(\"fieldset\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"exampleInputEmail1\"},\"Email address\"),/*#__PURE__*/React.createElement(\"input\",{value:email,onChange:function onChange(e){return setemail(e.target.value);},type:\"email\",className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"Enter email\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"exampleInputPassword1\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{value:password,onChange:function onChange(e){return setpassword(e.target.value);},type:\"password\",className:\"form-control\",id:\"exampleInputPassword1\",placeholder:\"Password\"})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-info m-auto\"},\"Login\"))))));};export default Login;","map":{"version":3,"sources":["C:/Users/HP/Desktop/book_keeping/book-keeping-app-main/frontend/src/components/Login/Login.js"],"names":["React","useEffect","useState","useDispatch","useSelector","loginUser","ErrorMessage","Loading","Login","history","email","setemail","password","setpassword","dispatch","userLoginDetails","state","userLogin","loading","userInfo","error","console","log","push","submitFormHandler","e","preventDefault","target","value"],"mappings":"iMAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,SAAT,KAA0B,uCAA1B,CACA,MAAOC,CAAAA,YAAP,KAAyB,gCAAzB,CACA,MAAOC,CAAAA,OAAP,KAAoB,oBAApB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,eACHP,QAAQ,CAAC,EAAD,CADL,wCACtBQ,KADsB,eACfC,QADe,8BAEGT,QAAQ,CAAC,EAAD,CAFX,yCAEtBU,QAFsB,eAEZC,WAFY,eAI7B,GAAMC,CAAAA,QAAQ,CAAGX,WAAW,EAA5B,CAEA;AAEA,GAAMY,CAAAA,gBAAgB,CAAGX,WAAW,CAAC,SAAAY,KAAK,QAAIA,CAAAA,KAAK,CAACC,SAAV,EAAN,CAApC,CAR6B,GAUrBC,CAAAA,OAVqB,CAUQH,gBAVR,CAUrBG,OAVqB,CAUZC,QAVY,CAUQJ,gBAVR,CAUZI,QAVY,CAUFC,KAVE,CAUQL,gBAVR,CAUFK,KAVE,CAW7BC,OAAO,CAACC,GAAR,CAAYJ,OAAZ,CAAqBC,QAArB,CAA+BC,KAA/B,EAEAnB,SAAS,CAAC,UAAM,CACd,GAAIkB,QAAJ,CAAc,CACZV,OAAO,CAACc,IAAR,CAAa,GAAb,EACD,CACF,CAJQ,CAIN,CAACT,QAAD,CAAWK,QAAX,CAAqBV,OAArB,CAJM,CAAT,CAKA;AACA,GAAMe,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAAAC,CAAC,CAAI,CAC7BA,CAAC,CAACC,cAAF,GACAZ,QAAQ,CAACT,SAAS,CAACK,KAAD,CAAQE,QAAR,CAAV,CAAR,CACAS,OAAO,CAACC,GAAR,CAAYZ,KAAZ,CAAmBE,QAAnB,EACD,CAJD,CAMA,mBACE,2BAAK,SAAS,CAAC,sBAAf,eACE,2BAAK,SAAS,CAAC,0BAAf,eACE,2BAAK,SAAS,CAAC,WAAf,EACGM,OAAO,eAAI,oBAAC,OAAD,MADd,CAEGE,KAAK,eAAI,oBAAC,YAAD,EAAc,KAAK,CAAEA,KAArB,EAFZ,cAGE,0BAAI,SAAS,CAAC,aAAd,UAHF,cAIE,4BAAM,QAAQ,CAAEI,iBAAhB,eACE,iDACE,2BAAK,SAAS,CAAC,YAAf,eACE,6BAAO,OAAO,CAAC,oBAAf,kBADF,cAEE,6BACE,KAAK,CAAEd,KADT,CAEE,QAAQ,CAAE,kBAAAe,CAAC,QAAId,CAAAA,QAAQ,CAACc,CAAC,CAACE,MAAF,CAASC,KAAV,CAAZ,EAFb,CAGE,IAAI,CAAC,OAHP,CAIE,SAAS,CAAC,cAJZ,CAKE,EAAE,CAAC,oBALL,CAME,mBAAiB,WANnB,CAOE,WAAW,CAAC,aAPd,EAFF,CADF,cAaE,2BAAK,SAAS,CAAC,YAAf,eACE,6BAAO,OAAO,CAAC,uBAAf,aADF,cAEE,6BACE,KAAK,CAAEhB,QADT,CAEE,QAAQ,CAAE,kBAAAa,CAAC,QAAIZ,CAAAA,WAAW,CAACY,CAAC,CAACE,MAAF,CAASC,KAAV,CAAf,EAFb,CAGE,IAAI,CAAC,UAHP,CAIE,SAAS,CAAC,cAJZ,CAKE,EAAE,CAAC,uBALL,CAME,WAAW,CAAC,UANd,EAFF,CAbF,cAwBE,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,qBAAhC,UAxBF,CADF,CAJF,CADF,CADF,CADF,CAyCD,CAlED,CAoEA,cAAepB,CAAAA,KAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { loginUser } from '../../redux/actions/users/userActions';\r\nimport ErrorMessage from '../DisplayMessage/ErrorMessage';\r\nimport Loading from '../Loading/Loading';\r\n\r\nconst Login = ({ history }) => {\r\n  const [email, setemail] = useState('');\r\n  const [password, setpassword] = useState('');\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  //Before login in we will check if you have login the we redirect you\r\n\r\n  const userLoginDetails = useSelector(state => state.userLogin);\r\n\r\n  const { loading, userInfo, error } = userLoginDetails;\r\n  console.log(loading, userInfo, error);\r\n\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      history.push('/');\r\n    }\r\n  }, [dispatch, userInfo, history]);\r\n  //submit form\r\n  const submitFormHandler = e => {\r\n    e.preventDefault();\r\n    dispatch(loginUser(email, password));\r\n    console.log(email, password);\r\n  };\r\n\r\n  return (\r\n    <div className='row container-height'>\r\n      <div className='col-lg-6 col-md-6 m-auto'>\r\n        <div className='container'>\r\n          {loading && <Loading />}\r\n          {error && <ErrorMessage error={error} />}\r\n          <h1 className='text-center'>Login</h1>\r\n          <form onSubmit={submitFormHandler}>\r\n            <fieldset>\r\n              <div className='form-group'>\r\n                <label htmlFor='exampleInputEmail1'>Email address</label>\r\n                <input\r\n                  value={email}\r\n                  onChange={e => setemail(e.target.value)}\r\n                  type='email'\r\n                  className='form-control'\r\n                  id='exampleInputEmail1'\r\n                  aria-describedby='emailHelp'\r\n                  placeholder='Enter email'\r\n                />\r\n              </div>\r\n              <div className='form-group'>\r\n                <label htmlFor='exampleInputPassword1'>Password</label>\r\n                <input\r\n                  value={password}\r\n                  onChange={e => setpassword(e.target.value)}\r\n                  type='password'\r\n                  className='form-control'\r\n                  id='exampleInputPassword1'\r\n                  placeholder='Password'\r\n                />\r\n              </div>\r\n              <button type='submit' className='btn btn-info m-auto'>\r\n                Login\r\n              </button>\r\n            </fieldset>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}