{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\HP\\\\Desktop\\\\book_keeping\\\\book-keeping-app-main\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useDispatch,useSelector}from'react-redux';import{updateUser}from'../../redux/actions/users/userActions';import SuccessMessage from'../DisplayMessage/SuccessMessage';var UpdateProfile=function UpdateProfile(_ref){var history=_ref.history;//Get the user from localstorage and pass to the initial states\nvar userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;console.log(userInfo);var _useState=useState(userInfo?userInfo.name:''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setname=_useState2[1];var _useState3=useState(userInfo?userInfo.email:''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setemail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setpassword=_useState6[1];console.log(userLogin);//Get the updated user details from store and display message\nvar updatedUser=useSelector(function(state){return state.updatedUser;});var user=updatedUser.user,loading=updatedUser.loading,success=updatedUser.success;//dispatch\nvar dispatch=useDispatch();//submit\nvar formSubmitHandler=function formSubmitHandler(e){e.preventDefault();dispatch(updateUser(name,email,password));};return/*#__PURE__*/React.createElement(\"div\",{className:\"row container-height\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-6 col-md-6 m-auto\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},user&&!loading&&success&&/*#__PURE__*/React.createElement(SuccessMessage,{msg:\"Updated successfully. Logout and login with your new credentials\"}),/*#__PURE__*/React.createElement(\"h1\",{className:\"text-center\"},\"Update\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:formSubmitHandler},/*#__PURE__*/React.createElement(\"fieldset\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"exampleInputEmail1\"},\"Name\"),/*#__PURE__*/React.createElement(\"input\",{value:name,onChange:function onChange(e){return setname(e.target.value);},type:\"text\",className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"Enter Name\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"exampleInputEmail1\"},\"Email address\"),/*#__PURE__*/React.createElement(\"input\",{value:email,onChange:function onChange(e){return setemail(e.target.value);},type:\"email\",className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"Enter email\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"exampleInputPassword1\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{value:password,onChange:function onChange(e){return setpassword(e.target.value);},type:\"password\",className:\"form-control\",id:\"exampleInputPassword1\",placeholder:\"Password\"})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary m-auto\"},\"Update your profile\"))))));};export default UpdateProfile;","map":{"version":3,"sources":["C:/Users/HP/Desktop/book_keeping/book-keeping-app-main/frontend/src/components/UpdateProfile/UpdateProfile.js"],"names":["React","useState","useDispatch","useSelector","updateUser","SuccessMessage","UpdateProfile","history","userLogin","state","userInfo","console","log","name","setname","email","setemail","password","setpassword","updatedUser","user","loading","success","dispatch","formSubmitHandler","e","preventDefault","target","value"],"mappings":"iMAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CAEA,OAASC,UAAT,KAA2B,uCAA3B,CAEA,MAAOC,CAAAA,cAAP,KAA2B,kCAA3B,CAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CACrC;AACA,GAAMC,CAAAA,SAAS,CAAGL,WAAW,CAAC,SAAAM,KAAK,QAAIA,CAAAA,KAAK,CAACD,SAAV,EAAN,CAA7B,CAFqC,GAG7BE,CAAAA,QAH6B,CAGhBF,SAHgB,CAG7BE,QAH6B,CAIrCC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAJqC,cAKbT,QAAQ,CAACS,QAAQ,CAAGA,QAAQ,CAACG,IAAZ,CAAmB,EAA5B,CALK,wCAK9BA,IAL8B,eAKxBC,OALwB,8BAMXb,QAAQ,CAACS,QAAQ,CAAGA,QAAQ,CAACK,KAAZ,CAAoB,EAA7B,CANG,yCAM9BA,KAN8B,eAMvBC,QANuB,8BAOLf,QAAQ,CAAC,EAAD,CAPH,yCAO9BgB,QAP8B,eAOpBC,WAPoB,eASrCP,OAAO,CAACC,GAAR,CAAYJ,SAAZ,EACA;AACA,GAAMW,CAAAA,WAAW,CAAGhB,WAAW,CAAC,SAAAM,KAAK,QAAIA,CAAAA,KAAK,CAACU,WAAV,EAAN,CAA/B,CAXqC,GAY7BC,CAAAA,IAZ6B,CAYFD,WAZE,CAY7BC,IAZ6B,CAYvBC,OAZuB,CAYFF,WAZE,CAYvBE,OAZuB,CAYdC,OAZc,CAYFH,WAZE,CAYdG,OAZc,CAcrC;AACA,GAAMC,CAAAA,QAAQ,CAAGrB,WAAW,EAA5B,CACA;AACA,GAAMsB,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAAAC,CAAC,CAAI,CAC7BA,CAAC,CAACC,cAAF,GACAH,QAAQ,CAACnB,UAAU,CAACS,IAAD,CAAOE,KAAP,CAAcE,QAAd,CAAX,CAAR,CACD,CAHD,CAKA,mBACE,2BAAK,SAAS,CAAC,sBAAf,eACE,2BAAK,SAAS,CAAC,0BAAf,eACE,2BAAK,SAAS,CAAC,WAAf,EACGG,IAAI,EAAI,CAACC,OAAT,EAAoBC,OAApB,eACC,oBAAC,cAAD,EAAgB,GAAG,CAAC,kEAApB,EAFJ,cAIE,0BAAI,SAAS,CAAC,aAAd,WAJF,cAME,4BAAM,QAAQ,CAAEE,iBAAhB,eACE,iDACE,2BAAK,SAAS,CAAC,YAAf,eACE,6BAAO,OAAO,CAAC,oBAAf,SADF,cAEE,6BACE,KAAK,CAAEX,IADT,CAEE,QAAQ,CAAE,kBAAAY,CAAC,QAAIX,CAAAA,OAAO,CAACW,CAAC,CAACE,MAAF,CAASC,KAAV,CAAX,EAFb,CAGE,IAAI,CAAC,MAHP,CAIE,SAAS,CAAC,cAJZ,CAKE,EAAE,CAAC,oBALL,CAME,mBAAiB,WANnB,CAOE,WAAW,CAAC,YAPd,EAFF,CADF,cAaE,2BAAK,SAAS,CAAC,YAAf,eACE,6BAAO,OAAO,CAAC,oBAAf,kBADF,cAEE,6BACE,KAAK,CAAEb,KADT,CAEE,QAAQ,CAAE,kBAAAU,CAAC,QAAIT,CAAAA,QAAQ,CAACS,CAAC,CAACE,MAAF,CAASC,KAAV,CAAZ,EAFb,CAGE,IAAI,CAAC,OAHP,CAIE,SAAS,CAAC,cAJZ,CAKE,EAAE,CAAC,oBALL,CAME,mBAAiB,WANnB,CAOE,WAAW,CAAC,aAPd,EAFF,CAbF,cAyBE,2BAAK,SAAS,CAAC,YAAf,eACE,6BAAO,OAAO,CAAC,uBAAf,aADF,cAEE,6BACE,KAAK,CAAEX,QADT,CAEE,QAAQ,CAAE,kBAAAQ,CAAC,QAAIP,CAAAA,WAAW,CAACO,CAAC,CAACE,MAAF,CAASC,KAAV,CAAf,EAFb,CAGE,IAAI,CAAC,UAHP,CAIE,SAAS,CAAC,cAJZ,CAKE,EAAE,CAAC,uBALL,CAME,WAAW,CAAC,UANd,EAFF,CAzBF,cAoCE,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,wBAAhC,wBApCF,CADF,CANF,CADF,CADF,CADF,CAuDD,CA7ED,CA+EA,cAAetB,CAAAA,aAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { updateUser } from '../../redux/actions/users/userActions';\r\n\r\nimport SuccessMessage from '../DisplayMessage/SuccessMessage';\r\n\r\nconst UpdateProfile = ({ history }) => {\r\n  //Get the user from localstorage and pass to the initial states\r\n  const userLogin = useSelector(state => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n  console.log(userInfo);\r\n  const [name, setname] = useState(userInfo ? userInfo.name : '');\r\n  const [email, setemail] = useState(userInfo ? userInfo.email : '');\r\n  const [password, setpassword] = useState('');\r\n\r\n  console.log(userLogin);\r\n  //Get the updated user details from store and display message\r\n  const updatedUser = useSelector(state => state.updatedUser);\r\n  const { user, loading, success } = updatedUser;\r\n\r\n  //dispatch\r\n  const dispatch = useDispatch();\r\n  //submit\r\n  const formSubmitHandler = e => {\r\n    e.preventDefault();\r\n    dispatch(updateUser(name, email, password));\r\n  };\r\n\r\n  return (\r\n    <div className='row container-height'>\r\n      <div className='col-lg-6 col-md-6 m-auto'>\r\n        <div className='container'>\r\n          {user && !loading && success && (\r\n            <SuccessMessage msg='Updated successfully. Logout and login with your new credentials' />\r\n          )}\r\n          <h1 className='text-center'>Update</h1>\r\n\r\n          <form onSubmit={formSubmitHandler}>\r\n            <fieldset>\r\n              <div className='form-group'>\r\n                <label htmlFor='exampleInputEmail1'>Name</label>\r\n                <input\r\n                  value={name}\r\n                  onChange={e => setname(e.target.value)}\r\n                  type='text'\r\n                  className='form-control'\r\n                  id='exampleInputEmail1'\r\n                  aria-describedby='emailHelp'\r\n                  placeholder='Enter Name'\r\n                />\r\n              </div>\r\n              <div className='form-group'>\r\n                <label htmlFor='exampleInputEmail1'>Email address</label>\r\n                <input\r\n                  value={email}\r\n                  onChange={e => setemail(e.target.value)}\r\n                  type='email'\r\n                  className='form-control'\r\n                  id='exampleInputEmail1'\r\n                  aria-describedby='emailHelp'\r\n                  placeholder='Enter email'\r\n                />\r\n              </div>\r\n              <div className='form-group'>\r\n                <label htmlFor='exampleInputPassword1'>Password</label>\r\n                <input\r\n                  value={password}\r\n                  onChange={e => setpassword(e.target.value)}\r\n                  type='password'\r\n                  className='form-control'\r\n                  id='exampleInputPassword1'\r\n                  placeholder='Password'\r\n                />\r\n              </div>\r\n              <button type='submit' className='btn btn-primary m-auto'>\r\n                Update your profile\r\n              </button>\r\n            </fieldset>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdateProfile;\r\n"]},"metadata":{},"sourceType":"module"}