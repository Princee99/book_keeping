{"ast":null,"code":"import React,{useEffect}from'react';import'./Profile.css';import pic from'../../assets/img/bookpic.jpg';import{useSelector,useDispatch}from'react-redux';import{getUserProfile}from'../../redux/actions/users/userActions';import Loading from'../Loading/Loading';import{Link}from'react-router-dom';var Profile=function Profile(_ref){var history=_ref.history;var dispatch=useDispatch();useEffect(function(){dispatch(getUserProfile());},[dispatch,history]);//Check if user is login otherwise redirect\nvar userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;useEffect(function(){if(userInfo===null)history.push('/login');},[userInfo,history]);//Get user Profile\nvar userProfile=useSelector(function(state){return state.userProfile;});var loading=userProfile.loading,user=userProfile.user;var books=userProfile.user&&userProfile.user.books;var renderTable=function renderTable(){if(books){return/*#__PURE__*/React.createElement(\"table\",{className:\"table table-hover\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Author\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Book Name\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Delete\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Update\"))),/*#__PURE__*/React.createElement(\"tbody\",null,books.map(function(book){return/*#__PURE__*/React.createElement(\"tr\",{className:\"table-dark\",key:book._id},/*#__PURE__*/React.createElement(\"th\",{scope:\"row\"},book.author),/*#__PURE__*/React.createElement(\"td\",null,book.title),/*#__PURE__*/React.createElement(\"td\",null,\"Delete\"),/*#__PURE__*/React.createElement(\"td\",null,\"Update\"));})));}else{return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h1\",null,\"You don't have any book created.\"),/*#__PURE__*/React.createElement(Link,null,\"Start Creating\"));}};return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col mt-5\"},loading&&!user?/*#__PURE__*/React.createElement(Loading,null):/*#__PURE__*/React.createElement(\"div\",{className:\"card m-auto \",style:{width:'50%'}},/*#__PURE__*/React.createElement(\"img\",{src:pic,className:\"card-img-top\",alt:\"...\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"card-title\"},user&&user.email),/*#__PURE__*/React.createElement(\"p\",{className:\"card-text\"},user&&user.name),/*#__PURE__*/React.createElement(Link,{to:\"/user-update\",className:\"btn btn-primary\"},\"Update your profile\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},renderTable())));};export default Profile;","map":{"version":3,"sources":["C:/Users/HP/Desktop/book_keeping/book-keeping-app-main/frontend/src/components/Profile/Profile.js"],"names":["React","useEffect","pic","useSelector","useDispatch","getUserProfile","Loading","Link","Profile","history","dispatch","userLogin","state","userInfo","push","userProfile","loading","user","books","renderTable","map","book","_id","author","title","width","email","name"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport './Profile.css';\r\nimport pic from '../../assets/img/bookpic.jpg';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getUserProfile } from '../../redux/actions/users/userActions';\r\nimport Loading from '../Loading/Loading';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Profile = ({ history }) => {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(getUserProfile());\r\n  }, [dispatch, history]);\r\n  //Check if user is login otherwise redirect\r\n  const userLogin = useSelector(state => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n  useEffect(() => {\r\n    if (userInfo === null) history.push('/login');\r\n  }, [userInfo, history]);\r\n\r\n  //Get user Profile\r\n  const userProfile = useSelector(state => state.userProfile);\r\n  const { loading, user } = userProfile;\r\n\r\n  const books = userProfile.user && userProfile.user.books;\r\n\r\n  const renderTable = () => {\r\n    if (books) {\r\n      return (\r\n        <table className='table table-hover'>\r\n          <thead>\r\n            <tr>\r\n              <th scope='col'>Author</th>\r\n              <th scope='col'>Book Name</th>\r\n              <th scope='col'>Delete</th>\r\n              <th scope='col'>Update</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {books.map(book => {\r\n              return (\r\n                <tr className='table-dark' key={book._id}>\r\n                  <th scope='row'>{book.author}</th>\r\n                  <td>{book.title}</td>\r\n                  <td>Delete</td>\r\n                  <td>Update</td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      );\r\n    } else {\r\n      return (\r\n        <>\r\n          <h1>You don't have any book created.</h1>\r\n          <Link>Start Creating</Link>\r\n        </>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='container'>\r\n      <div className='row'>\r\n        <div className='col mt-5'>\r\n          {loading && !user ? (\r\n            <Loading />\r\n          ) : (\r\n            <div className='card m-auto ' style={{ width: '50%' }}>\r\n              <img src={pic} className='card-img-top' alt='...' />\r\n              <div className='card-body'>\r\n                <h5 className='card-title'>{user && user.email}</h5>\r\n                <p className='card-text'>{user && user.name}</p>\r\n                <Link to='/user-update' className='btn btn-primary'>\r\n                  Update your profile\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className='row'>\r\n        <div className='col'>{renderTable()}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"]},"metadata":{},"sourceType":"module"}