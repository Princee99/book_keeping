{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import{fetchBooks,deleteBook}from'../../redux/actions/books/bookActions';import Loading from'../Loading/Loading';var Books=function Books(_ref){var history=_ref.history;//Fetch books\nvar dispatch=useDispatch();useEffect(function(){dispatch(fetchBooks());},[dispatch]);var bookslist=useSelector(function(state){return state.booksList;});var books=bookslist.books,loading=bookslist.loading;// End of fetch books\n//Delete book handler\nvar handlerDeleteBook=function handlerDeleteBook(id){dispatch(deleteBook(id));history.push('/books');};return/*#__PURE__*/React.createElement(\"div\",null,loading&&/*#__PURE__*/React.createElement(Loading,null),books!==undefined&&books.length===0?'No':/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table table-hover\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Author\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Book Name\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Action\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Action\"))),/*#__PURE__*/React.createElement(\"tbody\",null,books&&books.map(function(book){return/*#__PURE__*/React.createElement(\"tr\",{className:\"table-dark\",key:book._id},/*#__PURE__*/React.createElement(\"th\",{scope:\"row\"},book.title),/*#__PURE__*/React.createElement(\"td\",null,book.author),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"i\",{onClick:function onClick(){return handlerDeleteBook(book._id);},className:\"fas fa-trash \",style:{color:'red',cursor:'progress'}})),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Link,{to:\"/book/\".concat(book&&book._id)},/*#__PURE__*/React.createElement(\"i\",{className:\"far fa-edit\",style:{color:'yellow',cursor:'progress'}}))));}))))));};export default Books;","map":{"version":3,"sources":["C:/Users/HP/Desktop/book_keeping/book-keeping-app-main/frontend/src/components/Books/Books.js"],"names":["React","useEffect","useDispatch","useSelector","Link","fetchBooks","deleteBook","Loading","Books","history","dispatch","bookslist","state","booksList","books","loading","handlerDeleteBook","id","push","undefined","length","map","book","_id","title","author","color","cursor"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,UAAT,CAAqBC,UAArB,KAAuC,uCAAvC,CACA,MAAOC,CAAAA,OAAP,KAAoB,oBAApB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CAC7B;AACA,GAAMC,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CACAD,SAAS,CAAC,UAAM,CACdS,QAAQ,CAACL,UAAU,EAAX,CAAR,CACD,CAFQ,CAEN,CAACK,QAAD,CAFM,CAAT,CAGA,GAAMC,CAAAA,SAAS,CAAGR,WAAW,CAAC,SAAAS,KAAK,QAAIA,CAAAA,KAAK,CAACC,SAAV,EAAN,CAA7B,CAN6B,GAOrBC,CAAAA,KAPqB,CAOFH,SAPE,CAOrBG,KAPqB,CAOdC,OAPc,CAOFJ,SAPE,CAOdI,OAPc,CAQ7B;AAEA;AACA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAAAC,EAAE,CAAI,CAC9BP,QAAQ,CAACJ,UAAU,CAACW,EAAD,CAAX,CAAR,CACAR,OAAO,CAACS,IAAR,CAAa,QAAb,EACD,CAHD,CAIA,mBACE,+BACGH,OAAO,eAAI,oBAAC,OAAD,MADd,CAEGD,KAAK,GAAKK,SAAV,EAAuBL,KAAK,CAACM,MAAN,GAAiB,CAAxC,CACC,IADD,cAGC,2BAAK,SAAS,CAAC,KAAf,eACE,2BAAK,SAAS,CAAC,KAAf,eACE,6BAAO,SAAS,CAAC,mBAAjB,eACE,8CACE,2CACE,0BAAI,KAAK,CAAC,KAAV,WADF,cAEE,0BAAI,KAAK,CAAC,KAAV,cAFF,cAGE,0BAAI,KAAK,CAAC,KAAV,WAHF,cAIE,0BAAI,KAAK,CAAC,KAAV,WAJF,CADF,CADF,cASE,iCACGN,KAAK,EACJA,KAAK,CAACO,GAAN,CAAU,SAAAC,IAAI,CAAI,CAChB,mBACE,0BAAI,SAAS,CAAC,YAAd,CAA2B,GAAG,CAAEA,IAAI,CAACC,GAArC,eACE,0BAAI,KAAK,CAAC,KAAV,EAAiBD,IAAI,CAACE,KAAtB,CADF,cAEE,8BAAKF,IAAI,CAACG,MAAV,CAFF,cAGE,2CACE,yBACE,OAAO,CAAE,yBAAMT,CAAAA,iBAAiB,CAACM,IAAI,CAACC,GAAN,CAAvB,EADX,CAEE,SAAS,CAAC,eAFZ,CAGE,KAAK,CAAE,CAAEG,KAAK,CAAE,KAAT,CAAgBC,MAAM,CAAE,UAAxB,CAHT,EADF,CAHF,cASE,2CACE,oBAAC,IAAD,EAAM,EAAE,iBAAWL,IAAI,EAAIA,IAAI,CAACC,GAAxB,CAAR,eACE,yBACE,SAAS,CAAC,aADZ,CAEE,KAAK,CAAE,CACLG,KAAK,CAAE,QADF,CAELC,MAAM,CAAE,UAFH,CAFT,EADF,CADF,CATF,CADF,CAsBD,CAvBD,CAFJ,CATF,CADF,CADF,CALJ,CADF,CAkDD,CAjED,CAmEA,cAAenB,CAAAA,KAAf","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { fetchBooks, deleteBook } from '../../redux/actions/books/bookActions';\r\nimport Loading from '../Loading/Loading';\r\n\r\nconst Books = ({ history }) => {\r\n  //Fetch books\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(fetchBooks());\r\n  }, [dispatch]);\r\n  const bookslist = useSelector(state => state.booksList);\r\n  const { books, loading } = bookslist;\r\n  // End of fetch books\r\n\r\n  //Delete book handler\r\n  const handlerDeleteBook = id => {\r\n    dispatch(deleteBook(id));\r\n    history.push('/books');\r\n  };\r\n  return (\r\n    <div>\r\n      {loading && <Loading />}\r\n      {books !== undefined && books.length === 0 ? (\r\n        'No'\r\n      ) : (\r\n        <div className='row'>\r\n          <div className='col'>\r\n            <table className='table table-hover'>\r\n              <thead>\r\n                <tr>\r\n                  <th scope='col'>Author</th>\r\n                  <th scope='col'>Book Name</th>\r\n                  <th scope='col'>Action</th>\r\n                  <th scope='col'>Action</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {books &&\r\n                  books.map(book => {\r\n                    return (\r\n                      <tr className='table-dark' key={book._id}>\r\n                        <th scope='row'>{book.title}</th>\r\n                        <td>{book.author}</td>\r\n                        <td>\r\n                          <i\r\n                            onClick={() => handlerDeleteBook(book._id)}\r\n                            className='fas fa-trash '\r\n                            style={{ color: 'red', cursor: 'progress' }}></i>\r\n                        </td>\r\n                        <td>\r\n                          <Link to={`/book/${book && book._id}`}>\r\n                            <i\r\n                              className='far fa-edit'\r\n                              style={{\r\n                                color: 'yellow',\r\n                                cursor: 'progress',\r\n                              }}></i>\r\n                          </Link>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Books;\r\n"]},"metadata":{},"sourceType":"module"}