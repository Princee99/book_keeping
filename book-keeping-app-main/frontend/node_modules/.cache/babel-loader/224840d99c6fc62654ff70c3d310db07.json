{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\HP\\\\Desktop\\\\book_keeping\\\\book-keeping-app-main\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{createBook}from'../../redux/actions/books/bookActions';import{useDispatch,useSelector}from'react-redux';var AddBook=function AddBook(_ref){var history=_ref.history;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),category=_useState2[0],setCategory=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),author=_useState6[0],setAuthor=_useState6[1];//Get the user id from store\nvar userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;console.log(userInfo._id);//dispatch action\nvar dispatch=useDispatch();var formSubmitHandler=function formSubmitHandler(e){var data={category:category,title:title,author:author,createdBy:userInfo&&userInfo._id};e.preventDefault();dispatch(createBook(data));history.push('/books');};console.log(category);return/*#__PURE__*/React.createElement(\"div\",{className:\"row container-height\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-6 col-md-6 m-auto\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary\",\"data-toggle\":\"modal\",\"data-target\":\"#exampleModal\"},\"Click to add Book.\"),/*#__PURE__*/React.createElement(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-dialog\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-header\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\"},\"Create Book\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"},/*#__PURE__*/React.createElement(\"span\",{\"aria-hidden\":\"true\"},\"\\xD7\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-body\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"text-center\"},\"Add Book\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:formSubmitHandler},/*#__PURE__*/React.createElement(\"fieldset\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"select\",{value:category,onChange:function onChange(e){return setCategory(e.target.value);},className:\"custom-select\"},/*#__PURE__*/React.createElement(\"option\",{defaultValue:\"programming\"},\"programming\"),/*#__PURE__*/React.createElement(\"option\",{value:\"religion\"},\"Religion\"),/*#__PURE__*/React.createElement(\"option\",{value:\"life\"},\"life\"),/*#__PURE__*/React.createElement(\"option\",{value:\"culture\"},\"culture\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"exampleInputEmail1\"},\"Author \"),/*#__PURE__*/React.createElement(\"input\",{value:author,onChange:function onChange(e){return setAuthor(e.target.value);},type:\"text\",className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"Author name\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"exampleInputPassword1\"},\"title\"),/*#__PURE__*/React.createElement(\"input\",{value:title,onChange:function onChange(e){return setTitle(e.target.value);},type:\"text\",className:\"form-control\",id:\"exampleInputPassword1\",placeholder:\"Book title\"})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-warning m-auto\"},\"Create Book\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-footer\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-danger\",\"data-dismiss\":\"modal\"},\"Close\"))))))));};export default AddBook;","map":{"version":3,"sources":["C:/Users/HP/Desktop/book_keeping/book-keeping-app-main/frontend/src/components/Books/AddBook.js"],"names":["React","useState","createBook","useDispatch","useSelector","AddBook","history","category","setCategory","title","setTitle","author","setAuthor","userLogin","state","userInfo","console","log","_id","dispatch","formSubmitHandler","e","data","createdBy","preventDefault","push","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { createBook } from '../../redux/actions/books/bookActions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n\r\n\r\nconst AddBook = ({ history }) => {\r\n  const [category, setCategory] = useState('');\r\n  const [title, setTitle] = useState('');\r\n  const [author, setAuthor] = useState('');\r\n\r\n  //Get the user id from store\r\n\r\n  const userLogin = useSelector(state => state.userLogin);\r\n\r\n  const { userInfo } = userLogin;\r\n  console.log(userInfo._id);\r\n  //dispatch action\r\n  const dispatch = useDispatch();\r\n\r\n  const formSubmitHandler = e => {\r\n    const data = {\r\n      category,\r\n      title,\r\n      author,\r\n      createdBy: userInfo && userInfo._id,\r\n    };\r\n    e.preventDefault();\r\n    dispatch(createBook(data));\r\n    history.push('/books');\r\n  };\r\n  console.log(category);\r\n  return (\r\n    <div className='row container-height'>\r\n      <div className='col-lg-6 col-md-6 m-auto'>\r\n        <div className='container'>\r\n          <button\r\n            type='button'\r\n            className='btn btn-primary'\r\n            data-toggle='modal'\r\n            data-target='#exampleModal'>\r\n            Click to add Book.\r\n          </button>\r\n\r\n          <div\r\n            className='modal fade'\r\n            id='exampleModal'\r\n            tabIndex='-1'\r\n            aria-labelledby='exampleModalLabel'\r\n            aria-hidden='true'>\r\n            <div className='modal-dialog'>\r\n              <div className='modal-content'>\r\n                <div className='modal-header'>\r\n                  <h5 className='modal-title' id='exampleModalLabel'>\r\n                    Create Book\r\n                  </h5>\r\n                  <button\r\n                    type='button'\r\n                    className='close'\r\n                    data-dismiss='modal'\r\n                    aria-label='Close'>\r\n                    <span aria-hidden='true'>&times;</span>\r\n                  </button>\r\n                </div>\r\n                <div className='modal-body'>\r\n                  <h1 className='text-center'>Add Book</h1>\r\n                  <form onSubmit={formSubmitHandler}>\r\n                    <fieldset>\r\n                      <div className='form-group'>\r\n                        <select\r\n                          value={category}\r\n                          onChange={e => setCategory(e.target.value)}\r\n                          className='custom-select'>\r\n                          <option defaultValue='programming'>\r\n                            programming\r\n                          </option>\r\n                          <option value='religion'>Religion</option>\r\n                          <option value='life'>life</option>\r\n                          <option value='culture'>culture</option>\r\n                        </select>\r\n                      </div>\r\n                      <div className='form-group'>\r\n                        <label htmlFor='exampleInputEmail1'>Author </label>\r\n                        <input\r\n                          value={author}\r\n                          onChange={e => setAuthor(e.target.value)}\r\n                          type='text'\r\n                          className='form-control'\r\n                          id='exampleInputEmail1'\r\n                          aria-describedby='emailHelp'\r\n                          placeholder='Author name'\r\n                        />\r\n                      </div>\r\n                      <div className='form-group'>\r\n                        <label htmlFor='exampleInputPassword1'>title</label>\r\n                        <input\r\n                          value={title}\r\n                          onChange={e => setTitle(e.target.value)}\r\n                          type='text'\r\n                          className='form-control'\r\n                          id='exampleInputPassword1'\r\n                          placeholder='Book title'\r\n                        />\r\n                      </div>\r\n                      <button type='submit' className='btn btn-warning m-auto'>\r\n                        Create Book\r\n                      </button>\r\n                    </fieldset>\r\n                  </form>\r\n                </div>\r\n                <div className='modal-footer'>\r\n                  <button\r\n                    type='button'\r\n                    className='btn btn-danger'\r\n                    data-dismiss='modal'>\r\n                    Close\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddBook;\r\n"]},"metadata":{},"sourceType":"module"}