{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\HP\\\\Desktop\\\\book_keeping\\\\book-keeping-app-main\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{fetchBook,updateBook}from'../../redux/actions/books/bookActions';var BookDetail=function BookDetail(_ref){var history=_ref.history;var _useParams=useParams(),id=_useParams.id;//Get the book details and fill it in the form\nvar bookDetails=useSelector(function(state){return state.bookDetails;});var book=bookDetails.book,loading=bookDetails.loading;var _useState=useState(book&&!loading&&book.category),_useState2=_slicedToArray(_useState,2),category=_useState2[0],setCategory=_useState2[1];var _useState3=useState(book&&!loading&&book.title),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState(book&&book.author),_useState6=_slicedToArray(_useState5,2),author=_useState6[0],setAuthor=_useState6[1];var dispatch=useDispatch();useEffect(function(){dispatch(fetchBook(id));},[dispatch,id]);//dispatch action\nvar formSubmitHandler=function formSubmitHandler(e){var data={category:category,title:title,author:author};e.preventDefault();dispatch(updateBook(id,data));history.push('/books');};return/*#__PURE__*/React.createElement(\"div\",{className:\"row container-height\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-6 col-md-6 m-auto\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},book?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h1\",{className:\"text-center\"},\"Update\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:formSubmitHandler},/*#__PURE__*/React.createElement(\"fieldset\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"select\",{value:category,onChange:function onChange(e){return setCategory(e.target.value);},className:\"custom-select\"},/*#__PURE__*/React.createElement(\"option\",{defaultValue:\"programming\"},\"programming\"),/*#__PURE__*/React.createElement(\"option\",{value:\"religion\"},\"Religion\"),/*#__PURE__*/React.createElement(\"option\",{value:\"life\"},\"life\"),/*#__PURE__*/React.createElement(\"option\",{value:\"culture\"},\"culture\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"exampleInputEmail1\"},\"Author \"),/*#__PURE__*/React.createElement(\"input\",{value:author,onChange:function onChange(e){return setAuthor(e.target.value);},type:\"text\",className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"Author name\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"exampleInputPassword1\"},\"title\"),/*#__PURE__*/React.createElement(\"input\",{value:title,onChange:function onChange(e){return setTitle(e.target.value);},type:\"text\",className:\"form-control\",id:\"exampleInputPassword1\",placeholder:\"Book title\"})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-dark m-auto\"},\"Create Book\")))):'No')));};export default BookDetail;","map":{"version":3,"sources":["C:/Users/HP/Desktop/book_keeping/book-keeping-app-main/frontend/src/components/Books/BookDetail.js"],"names":["React","useEffect","useState","useParams","useDispatch","useSelector","fetchBook","updateBook","BookDetail","history","id","bookDetails","state","book","loading","category","setCategory","title","setTitle","author","setAuthor","dispatch","formSubmitHandler","e","data","preventDefault","push","target","value"],"mappings":"iMAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,SAAT,CAAoBC,UAApB,KAAsC,uCAAtC,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,gBACnBN,SAAS,EADU,CAC1BO,EAD0B,YAC1BA,EAD0B,CAGlC;AACA,GAAMC,CAAAA,WAAW,CAAGN,WAAW,CAAC,SAAAO,KAAK,QAAIA,CAAAA,KAAK,CAACD,WAAV,EAAN,CAA/B,CAJkC,GAM1BE,CAAAA,IAN0B,CAMRF,WANQ,CAM1BE,IAN0B,CAMpBC,OANoB,CAMRH,WANQ,CAMpBG,OANoB,eAQFZ,QAAQ,CAACW,IAAI,EAAI,CAACC,OAAT,EAAoBD,IAAI,CAACE,QAA1B,CARN,wCAQ3BA,QAR2B,eAQjBC,WARiB,8BASRd,QAAQ,CAACW,IAAI,EAAI,CAACC,OAAT,EAAoBD,IAAI,CAACI,KAA1B,CATA,yCAS3BA,KAT2B,eASpBC,QAToB,8BAUNhB,QAAQ,CAACW,IAAI,EAAIA,IAAI,CAACM,MAAd,CAVF,yCAU3BA,MAV2B,eAUnBC,SAVmB,eAYlC,GAAMC,CAAAA,QAAQ,CAAGjB,WAAW,EAA5B,CACAH,SAAS,CAAC,UAAM,CACdoB,QAAQ,CAACf,SAAS,CAACI,EAAD,CAAV,CAAR,CACD,CAFQ,CAEN,CAACW,QAAD,CAAWX,EAAX,CAFM,CAAT,CAIA;AAEA,GAAMY,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAAAC,CAAC,CAAI,CAC7B,GAAMC,CAAAA,IAAI,CAAG,CACXT,QAAQ,CAARA,QADW,CAEXE,KAAK,CAALA,KAFW,CAGXE,MAAM,CAANA,MAHW,CAAb,CAKAI,CAAC,CAACE,cAAF,GACAJ,QAAQ,CAACd,UAAU,CAACG,EAAD,CAAKc,IAAL,CAAX,CAAR,CACAf,OAAO,CAACiB,IAAR,CAAa,QAAb,EACD,CATD,CAUA,mBACE,2BAAK,SAAS,CAAC,sBAAf,eACE,2BAAK,SAAS,CAAC,0BAAf,eACE,2BAAK,SAAS,CAAC,WAAf,EACGb,IAAI,cACH,qDACE,0BAAI,SAAS,CAAC,aAAd,WADF,cAEE,4BAAM,QAAQ,CAAES,iBAAhB,eACE,iDACE,2BAAK,SAAS,CAAC,YAAf,eACE,8BACE,KAAK,CAAEP,QADT,CAEE,QAAQ,CAAE,kBAAAQ,CAAC,QAAIP,CAAAA,WAAW,CAACO,CAAC,CAACI,MAAF,CAASC,KAAV,CAAf,EAFb,CAGE,SAAS,CAAC,eAHZ,eAIE,8BAAQ,YAAY,CAAC,aAArB,gBAJF,cAKE,8BAAQ,KAAK,CAAC,UAAd,aALF,cAME,8BAAQ,KAAK,CAAC,MAAd,SANF,cAOE,8BAAQ,KAAK,CAAC,SAAd,YAPF,CADF,CADF,cAYE,2BAAK,SAAS,CAAC,YAAf,eACE,6BAAO,OAAO,CAAC,oBAAf,YADF,cAEE,6BACE,KAAK,CAAET,MADT,CAEE,QAAQ,CAAE,kBAAAI,CAAC,QAAIH,CAAAA,SAAS,CAACG,CAAC,CAACI,MAAF,CAASC,KAAV,CAAb,EAFb,CAGE,IAAI,CAAC,MAHP,CAIE,SAAS,CAAC,cAJZ,CAKE,EAAE,CAAC,oBALL,CAME,mBAAiB,WANnB,CAOE,WAAW,CAAC,aAPd,EAFF,CAZF,cAwBE,2BAAK,SAAS,CAAC,YAAf,eACE,6BAAO,OAAO,CAAC,uBAAf,UADF,cAEE,6BACE,KAAK,CAAEX,KADT,CAEE,QAAQ,CAAE,kBAAAM,CAAC,QAAIL,CAAAA,QAAQ,CAACK,CAAC,CAACI,MAAF,CAASC,KAAV,CAAZ,EAFb,CAGE,IAAI,CAAC,MAHP,CAIE,SAAS,CAAC,cAJZ,CAKE,EAAE,CAAC,uBALL,CAME,WAAW,CAAC,YANd,EAFF,CAxBF,cAmCE,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,qBAAhC,gBAnCF,CADF,CAFF,CADG,CA8CH,IA/CJ,CADF,CADF,CADF,CAwDD,CArFD,CAuFA,cAAepB,CAAAA,UAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchBook, updateBook } from '../../redux/actions/books/bookActions';\r\n\r\nconst BookDetail = ({ history }) => {\r\n  const { id } = useParams();\r\n\r\n  //Get the book details and fill it in the form\r\n  const bookDetails = useSelector(state => state.bookDetails);\r\n\r\n  const { book, loading } = bookDetails;\r\n\r\n  const [category, setCategory] = useState(book && !loading && book.category);\r\n  const [title, setTitle] = useState(book && !loading && book.title);\r\n  const [author, setAuthor] = useState(book && book.author);\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(fetchBook(id));\r\n  }, [dispatch, id]);\r\n\r\n  //dispatch action\r\n\r\n  const formSubmitHandler = e => {\r\n    const data = {\r\n      category,\r\n      title,\r\n      author,\r\n    };\r\n    e.preventDefault();\r\n    dispatch(updateBook(id, data));\r\n    history.push('/books');\r\n  };\r\n  return (\r\n    <div className='row container-height'>\r\n      <div className='col-lg-6 col-md-6 m-auto'>\r\n        <div className='container'>\r\n          {book ? (\r\n            <>\r\n              <h1 className='text-center'>Update</h1>\r\n              <form onSubmit={formSubmitHandler}>\r\n                <fieldset>\r\n                  <div className='form-group'>\r\n                    <select\r\n                      value={category}\r\n                      onChange={e => setCategory(e.target.value)}\r\n                      className='custom-select'>\r\n                      <option defaultValue='programming'>programming</option>\r\n                      <option value='religion'>Religion</option>\r\n                      <option value='life'>life</option>\r\n                      <option value='culture'>culture</option>\r\n                    </select>\r\n                  </div>\r\n                  <div className='form-group'>\r\n                    <label htmlFor='exampleInputEmail1'>Author </label>\r\n                    <input\r\n                      value={author}\r\n                      onChange={e => setAuthor(e.target.value)}\r\n                      type='text'\r\n                      className='form-control'\r\n                      id='exampleInputEmail1'\r\n                      aria-describedby='emailHelp'\r\n                      placeholder='Author name'\r\n                    />\r\n                  </div>\r\n                  <div className='form-group'>\r\n                    <label htmlFor='exampleInputPassword1'>title</label>\r\n                    <input\r\n                      value={title}\r\n                      onChange={e => setTitle(e.target.value)}\r\n                      type='text'\r\n                      className='form-control'\r\n                      id='exampleInputPassword1'\r\n                      placeholder='Book title'\r\n                    />\r\n                  </div>\r\n                  <button type='submit' className='btn btn-dark m-auto'>\r\n                    Create Book\r\n                  </button>\r\n                </fieldset>\r\n              </form>\r\n            </>\r\n          ) : (\r\n            'No'\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookDetail;\r\n"]},"metadata":{},"sourceType":"module"}